<!DOCTYPE html>

<html lang="en-US">

<head>
  <meta charset="utf-8" />
  <title>eede: EDM4hep EventData Explorer</title>
  <link rel="icon" type="image/x-icon" href="./favicon.ico">

  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/logo.css">
  <link rel="stylesheet" href="css/canvas.css">
  <link rel="stylesheet" href="css/modal.css">
  <link rel="stylesheet" href="css/modals/welcome.css">
  <link rel="stylesheet" href="css/modals/input.css">
  <link rel="stylesheet" href="css/filter.css">
  <link rel="stylesheet" href="css/event.css">
  <link rel="stylesheet" href="css/information.css">
  <link rel="stylesheet" href="css/contact.css">
  <link rel="stylesheet" href="css/views.css">
  <link rel="stylesheet" href="css/information-message.css">
  <link rel="stylesheet" href="css/switch-deploy.css">
  <link rel="stylesheet" href="css/current-file.css">
  <link rel="stylesheet" href="css/clean-switch.css">
</head>

<body>
  <div id="welcome-modal" class="modal-background">
    <div class="modal-content">
      <p class='text-align-center'>
        Welcome to
        <br>
        <span id="logo">
          <span class="logo-letter e1">e</span><span class="logo-letter e2">e</span><span class="logo-letter d">d</span><span class="logo-letter e3">E</span>
        </span>
        <br>
        Simple visualizer of the
        <a href="https://edm4hep.web.cern.ch/">EDM4hep</a> events.
      </p>

      <div class="small-text mt-30">
        <p class="ml-20">
          To convert your EDM4hep ROOT file into its JSON representation use:
        </p>
        <pre class="ml-30"><code>edm4hep2json my-file.edm4hep.root</code></pre>
        <p class="ml-20">
          Make sure to limit the number of events converted, otherwise the
          JSON file might become very large.<br>To limit the total number of
          converted events use the <code>-n</code> flag and to provide comma
          separated list of event numbers use the <code>-e</code> flag.
        </p>
        <p class="ml-20">
          Example input files (right click to save):
        </p>
        <ul>
          <li>
            Delphes: <a href="https://fccsw.web.cern.ch/fccsw/eede/4/p8_ee_ZH_ecm240.edm4hep.json">p8_ee_ZH_ecm240.edm4hep.json</a>
            [7.4 MiB]
          </li>
          <li>
            Full Sim: <a href="https://fccsw.web.cern.ch/fccsw/eede/wzp6_ee_mumuH_ecm240_CLD_RECO.edm4hep.json">wzp6_ee_mumuH_ecm240_CLD_RECO.edm4hep.json</a>
            [28 MB]
          </li>
        </ul>
      </div>

      <div class="align-right">
        <button id="start-button">Start</button>
      </div>
    </div>
  </div>

  <div id="input-modal" class="modal-background">
    <div class="modal-content">
      <div class="align-right">
        <img id="input-modal-close-button"
             src="img/close.svg"
             alt="Close Input File Loader"
             width="35"
             height="35" />
      </div>

      <div class="text-align-center">
        <h1>Input File Loader</h1>
      </div>

      <div id="input-message">
      </div>

      <form id="input-modal-form">
        <div class="mt-30 mb-20">
          <label class="mr-10" for="input-modal-file-input">Select EDM4hep JSON:</label>
          <input id="input-modal-file-input" name="input-modal-file-input" type="file" accept=".json">
        </div>

        <div id="event-selector" class="mb-20">
          <label class="mr-10" for="event-number">Select one of the events:</label>
          <select name="event-number" id="event-number"></select>
        </div>

        <div id="input-modal-view-selector" class="mb-20">
          <p>Select one of the available views:</p>
          <div id="available-views" class="view-selector-menu">
          </div>
        </div>

        <div class="align-right mt-30">
          <button id="visualize-button">Visualize</button>
        </div>
      </form>
      <div class="file-overview">
      </div>
    </div>
  </div>

  <div id="filters">
    <div id="filters-header">
      <span id="filters-title">Filters</span>
      <div id="filter-menu-handler">
        <img id="open-filter" src="img/down_arrow.svg" alt="Open filter" width="20" height="20" />
        <img id="close-filter" src="img/up_arrow.svg" alt="Close filter" width="20" height="20" />
      </div>
    </div>
    <div id="filters-body">
      <div id="filters-content">
      </div>
      <div id="invert-filters-section">
        <input type="checkbox" id="invert-filter" name="invert-filter" value="invert-filter" />
        <span>Invert filters?</span>
      </div>
      <div id="filters-buttons">
        <button id="filter-apply" class="filter-action">Apply</button>
        <button id="filter-reset" class="filter-action">Reset</button>
      </div>
    </div>
  </div>

  <div id="event-switcher">
    <img id="previous-event"
         class="event-switch-arrow event-switch-tool"
         src="img/left_arrow.svg"
         alt="Previous event"
         width="20"
         height="20" />
    <div>
      <span id="selected-event" class="event-switch-tool"></span>
      <div id="event-selector-menu"></div>
    </div>
    <img id="next-event"
         class="event-switch-arrow event-switch-tool"
         src="img/right_arrow.svg"
         alt="Next event"
         width="20"
         height="20" />
  </div>

  <img id="information-icon"
       src="img/information.svg"
       alt="Information"
       width="35"
       height="35" />

  <div id="information-modal">
    <img id="close-information" src="img/close.svg" alt="Close" width="35" height="35" />
    <div class="info-modal-content">
      <div class='text-align-center'>
        <span id="logo">
          <span class="logo-letter e1">e</span><span class="logo-letter e2">e</span><span class="logo-letter d">d</span><span class="logo-letter e3">E</span>
        </span>
        <br>
        Simple visualizer of the
        <a href="https://edm4hep.web.cern.ch/">EDM4hep</a> events.
      </div>

      <div id="information-buttons">
        <button id="view-information-button" class="information-button">This view</button>
        <button id="information-button" class="information-button">About eede</button>
      </div>

      <div id="information-options">
        <div id="information-content">
          <p>
            Learn more about eede in the
            <a href="https://github.com/key4hep/eede/wiki"
               target="_blank"
               rel="noopener noreferrer">wiki</a>.
          </p>

          <p>
            Want to learn more about the EDM4hep itself? Check out the
            <a href="https://edm4hep.web.cern.ch"
               target="_blank"
               rel="noopener noreferrer">EDM4hep</a> website.
          </p>

          <p>
            Found a bug or have a feature request? Open new
            <a href="https://github.com/key4hep/eede/issues"
               target="_blank"
               rel="noopener noreferrer">issue</a>.
          </p>

          <p>Contacts:</p>
          <ul>
            <li class="contact-element">Juraj Smiesko:
              <address class="email">
                <a href="mailto:juraj.smiesko@cern.ch">
                  <img src="img/juraj-email.webp" alt="juraj-email" height="21" />
                </a>
              </address>
              <button class="copy-email-button" data-email="juraj.smiesko@cern.ch">
                <abbr title="Copy to Clipboard">
                  <img src="img/copy.svg" alt="Copy" width="16" height="16" />
                </abbr>
              </button>
            </li>
            <li class="contact-element">Thomas Madlener:
              <address class="email">
                <a href="mailto:thomas.madlener@desy.de">
                  <img src="img/thomas-email.webp" alt="thomas-email" height="21" />
                </a>
              </address>
              <button class="copy-email-button" data-email="thomas.madlener@desy.de">
                <abbr title="Copy to Clipboard">
                  <img src="img/copy.svg" alt="Copy" width="16" height="16" />
                </abbr>
              </button>
            </li>
            <li class="contact-element">Braulio Rivas:
              <address class="email">
                <a href="mailto:brauliorivas@pm.me">
                  <img src="img/braulio-email.webp" alt="braulio-email" height="21" />
                </a>
              </address>
              <button class="copy-email-button" data-email="brauliorivas@pm.me">
                <abbr title="Copy to Clipboard">
                  <img src="img/copy.svg" alt="Copy" width="16" height="16" />
                </abbr>
              </button>
            </li>
          </ul>
        </div>

        <div id="view-information-content">
          <h2 id="view-title-info"></h2>
          <div id="view-description-info"></div>
        </div>
      </div>
    </div>
  </div>

  <div id="left-menu">
    <div id="toggles">
      <div id="pdg-toggle" class="toggle">
        <span class="toggle-label">Show PDG IDs</span>
        <label class="cl-switch cl-switch-black">
          <input type="checkbox">
          <span id="pdg-toggle-switch" class="switcher"></span>
        </label>
      </div>
    </div>
    <div id="views-header">
      <span id="views-select-title">Select a view</span>
      <div id="views-menu-handler">
        <img id="close-views" class="views-handler" src="img/up_arrow.svg" alt="Close" width="20" height="20" />
        <img id="open-views" class="views-handler" src="img/down_arrow.svg" alt="Open" width="20" height="20" />
      </div>
    </div>
    <div id="view-selector" class="view-selector-menu"></div>
  </div>

  <div id="information-message-modal">
    <img src="img/blue-info.svg" alt="Empty view" width="20" height="20" />
    <p id="information-text">This view has no elements</p>
  </div>

  <div id="switch-deploy">
    <p id="switch-deploy-text">Switch to</p>
    <button id="switch-deploy-button">Release</button>
  </div>

  <div id="current-file">
    <span>Current file: <span id="current-file-name"></span></span>
    <button id="change-file">
      <img src="img/upload.svg" alt="Change file" width="23" height="23" />
    </button>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" type="text/javascript"></script>
  <script type="module" src="js/pixi.min.mjs"> </script>
  <script type="module" src="js/main.js"></script>
  <script type="module" src="js/modals/welcome.js"></script>
  <script type="module" src="js/modals/input.js"></script>
  <script type="module" src="js/information.js"></script>
  <script type="module" src="js/views/views.js"></script>
  <script type="module" src="js/current-file.js"></script>
  <script type="module" src="js/switch-deploy.js"></script>
</body>

</html>
